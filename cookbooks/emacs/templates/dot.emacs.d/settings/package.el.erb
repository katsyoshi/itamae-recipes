(require 'package)
(add-to-list 'package-archives '("melpa" . "https://melpa.org/packages/") t)
(fset 'package-desc-vers 'package--ac-desc-version)
(package-refresh-contents)
(package-initialize)

;; インストールするパッケージ
(defvar my/favorite-packages
  '(campany
    ddskk
    exec-path-from-shell
    flycheck
    helm
    magit<% @packages.each do |pkg| %>
    <%= pkg %><% end %>

    ;; install lsp-mode
    lsp-mode
    lsp-ui
    ;; install lsp-mode plugin packages
    campany-lsp<% @lsp&.each do |lsp| %>
    <%= lsp.name =~ /^company$/ ? "#{lsp.name}-lsp": "lsp-#{lsp.name}" %><% end %>
))

;; my/favorite-packagesからインストールしていないパッケージをインストール
(dolist (package my/favorite-packages)
(unless (package-installed-p package)
(package-install package)))
